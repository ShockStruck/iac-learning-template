# shellcheck disable=SC2148,SC2155
# IaC Learning Template - Environment Configuration
# This file is loaded by direnv when entering the directory

# === SOPS Age Encryption ===
export SOPS_AGE_KEY_FILE="${PWD}/.secrets/age.key"

# === Task Configuration ===
export TASK_X_ENV_PRECEDENCE=1
export TASK_X_MAP_VARIABLES=0

# === Project Settings ===
export IAC_PROJECT_NAME="iac-learning-template"
export IAC_ENV="development"

# === Docker Compose Settings ===
export COMPOSE_PROJECT_NAME="iac-learning"
export COMPOSE_FILE="${PWD}/examples/docker-compose.yml"

# === Path Configuration ===
export PATH="${PWD}/scripts:${PATH}"

# === Development Tools ===
# Enable colored output
export CLICOLOR=1
export LSCOLORS="ExGxBxDxCxEgEdxbxgxcxd"

# === Welcome Message ===
if [[ -z "${IAC_ENV_LOADED}" ]]; then
  echo "üåç Environment loaded for IaC Learning Template"
  echo "üì¶ Project: ${IAC_PROJECT_NAME}"
  echo "üîß Environment: ${IAC_ENV}"
  echo ""
  echo "üí° Quick start:"
  echo "   task help        # Show all available commands"
  echo "   task start       # Bootstrap and run everything"
  echo ""
  export IAC_ENV_LOADED=1
fi
